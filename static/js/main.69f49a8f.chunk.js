(this["webpackJsonptrivia-test"]=this["webpackJsonptrivia-test"]||[]).push([[0],{102:function(e,t,a){},108:function(e,t,a){},111:function(e,t){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},149:function(e,t){},161:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(38),s=a.n(c),o=(a(102),a(14)),i=a(60),l=a(3),u=(a(108),a(16)),m=a.n(u),p=a(20),d=a(29),b=a(39),v=a(6),f=a(7),h=a(9),E=a(8),g=a(92),k=a(91),w=a.n(k),y=function(e){return{type:"CORRECT_ANSWER",payload:e}},_=a(40),O=a.n(_),N=(a(112),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={gravatarEmail:"",name:""},e.onInputChange=function(t){var a=t.target,n=a.id,r=a.value;return e.setState(Object(b.a)({},n,r))},e.isDisabled=function(e,t){return!/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(e)||""===t},e.onClickButton=Object(d.a)(m.a.mark((function t(){var a,n,r,c,s,o,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.history,r=a.addUserInfo,c=a.getTokenDispatch,t.next=3,fetch("https://opentdb.com/api_token.php?command=request");case 3:return s=t.sent,t.next=6,s.json();case 6:o=t.sent,i=o.token,c(i),r(Object(p.a)({},e.state)),n.push("/game");case 11:case"end":return t.stop()}}),t)}))),e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state,t=e.gravatarEmail,a=e.name;return r.a.createElement("section",{className:"login_section"},r.a.createElement("div",{className:"login_wrapper"},r.a.createElement("div",{className:"login_logo_wrapper"},r.a.createElement("img",{src:O.a,alt:"trivia logo in black and white"})),r.a.createElement("div",{className:"login_form_wrapper"},r.a.createElement("label",{htmlFor:"name"},r.a.createElement("input",{id:"name","data-testid":"input-player-name",type:"text",value:a,onChange:this.onInputChange,placeholder:"Name",autoComplete:"off",required:!0})),r.a.createElement("label",{htmlFor:"gravatarEmail"},r.a.createElement("input",{id:"gravatarEmail","data-testid":"input-gravatar-email",ss:!0,type:"email",value:t,onChange:this.onInputChange,placeholder:"Email",autoComplete:"off",required:!0})),r.a.createElement("div",{className:"login_btn_wrapper"},r.a.createElement("button",{id:"userSubmit",className:"form_btn","data-testid":"btn-play",type:"button",disabled:this.isDisabled(t,a),alt:"Let's Play!",onClick:this.onClickButton},r.a.createElement(g.a,null),r.a.createElement("span",{className:"form_btn_text"},"Let's Play!"))))))}}]),a}(n.Component)),j=Object(o.b)(null,(function(e){return{addUserInfo:function(t){return e(function(e){var t=w()(e.gravatarEmail).toString();return e.gravatarEmail="https://www.gravatar.com/avatar/".concat(t),{type:"GET_USER_INFO",payload:e}}(t))},getTokenDispatch:function(t){return e({type:"GET_TOKEN",payload:t})}}}))(N),x=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{"data-testid":"settings-title"},"Configura\xe7\xf5es de Jogo"))}}]),a}(n.Component),C=a(31),S=a(42),q=function(e){var t=JSON.parse(localStorage.getItem("ranking"));return t?localStorage.setItem("ranking",JSON.stringify([].concat(Object(S.a)(t),[e]))):localStorage.setItem("ranking",JSON.stringify([e]))},T=(a(113),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("ranking")).sort((function(e,t){return t.score-e.score})),t=this.props.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pyro"},r.a.createElement("div",{className:"before"}),r.a.createElement("div",{className:"after"})),r.a.createElement("div",null,r.a.createElement("div",{className:"ranking_wrapper"},r.a.createElement("h1",{"data-testid":"ranking-title"},r.a.createElement(C.b,{className:"ranking_icon_medal"}),"Top Players!"),r.a.createElement("div",{className:"ranking_boxlist"},r.a.createElement("ol",{className:"ranking_ol"},e.map((function(e,t){var a=e.name,n=e.score,c=e.gravatarEmail;return r.a.createElement("li",{className:"ranking_li",key:t},r.a.createElement("p",null,"#".concat(t+1)),r.a.createElement("div",{className:"ranking_player_wrapper"},r.a.createElement("img",{src:c,alt:a}),r.a.createElement("p",{"data-testid":"player-name-".concat(t)},a)),r.a.createElement("p",{"data-testid":"player-score-".concat(t)},"Greatest Score: ".concat(n)))})))),r.a.createElement("div",{className:"ranking_home_btn"},r.a.createElement("button",{className:"ranking_btn",type:"button","data-testid":"btn-go-home",onClick:function(){t.push("/")}},r.a.createElement(C.a,null),r.a.createElement("span",{className:"ranking_btn_text"},"Go Home!"))))))}}]),a}(n.Component)),I=a(32),R=(a(114),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.score,n=e.gravatarEmail;return r.a.createElement("header",{className:"header_main_wrapper"},r.a.createElement("div",{className:"header_wrapper"},r.a.createElement("div",{className:"header_logo"},r.a.createElement("img",{src:O.a,alt:"trivia logo in black and white"})),r.a.createElement("div",{className:"header_score"},r.a.createElement("span",{"data-testid":"header-score"},"Your score is: ".concat(a," points"))),r.a.createElement("div",{className:"header_username"},r.a.createElement("img",{src:n,alt:t,"data-testid":"header-profile-picture"}),r.a.createElement("span",{"data-testid":"header-player-name"},t))))}}]),a}(n.Component)),D=Object(o.b)((function(e){var t=e.player;return{name:t.name,score:t.score,gravatarEmail:t.gravatarEmail}}))(R),B=(a(115),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.assertions,a=e.score,n=e.history;return r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement("div",{className:"feedback_wrapper"},r.a.createElement("h1",{"data-testid":"feedback-text"},t<3?"Could be better...":"Well Done!"),r.a.createElement("p",null,"You got"," ",r.a.createElement("span",{"data-testid":"feedback-total-question"},t)," ","questions right"),r.a.createElement("p",null,"Making"," ",r.a.createElement("span",{"data-testid":"feedback-total-score"},a)," ","points"),r.a.createElement("div",{className:"feedback_btn"},r.a.createElement("button",{className:"feedback_config_btn",type:"button","data-testid":"btn-play-again",onClick:function(){return n.push("/")}},r.a.createElement(I.a,null),r.a.createElement("span",{className:"feedback_btn_text"},"Restart")),r.a.createElement("button",{className:"feedback_config_btn",type:"button","data-testid":"btn-ranking",onClick:function(){return n.push("/ranking")}},r.a.createElement(C.b,null),r.a.createElement("span",{className:"feedback_btn_text"},"Ranking")))))}}]),a}(n.Component)),A=Object(o.b)((function(e){var t=e.player;return{assertions:t.assertions,score:t.score}}))(B),F=a(96),J=a(61),G=a.n(J),W=function(e,t,a){if("boolean"===e)return"True"===t?[["True","correct-answer"],["False","wrong-answer-0"]]:[["True","wrong-answer-0"],["False","correct-answer"]];var n=[t,"correct-answer"],r=a.map((function(e,t){return[e,"wrong-answer-".concat(t)]})),c=[n].concat(Object(S.a)(r));return c.sort((function(){return Math.random()-.5}))},M=(a(116),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={answer:0,disableQuestButton:!1,timer:30,intervalo:"",questionsRandom:[]},e.componentDidMount=function(){var t=e.props.questions.map((function(e){var t=e.type,a=e.correct_answer,n=e.incorrect_answers;return W(t,a,n)}));e.setState({questionsRandom:t}),e.countDown()},e.onClickAnswer=function(t){var a=e.state,n=a.intervalo,r=a.answer,c=a.timer;clearInterval(n);var s=e.props,o=s.dispatch,i=s.questions;if("correct-answer"===t){var l;switch(i[r].difficulty){case"easy":l=1;break;case"medium":l=2;break;case"hard":l=3}o(y(10+l*c))}e.setState({disableQuestButton:!0});var u=document.querySelector(".correct"),m=document.querySelectorAll(".wrong");u.className="correct_click",m.forEach((function(e){e.className="wrong_click"}))},e.onClickNext=function(){var t=e.props.history,a=e.state.answer;if(4===a){var n=e.props,r=n.score,c=n.name,s=n.gravatarEmail;q({score:r,name:c,gravatarEmail:s}),t.push("/feedback")}else e.countDown(),e.setState({answer:a+1,disableQuestButton:!1,timer:30})},e.countDown=function(){var t=setInterval((function(){e.setState((function(t){return 0===t.timer?(e.onClickAnswer(),{timer:0}):{timer:t.timer-1}}))}),1e3);e.setState({intervalo:t})},e.nextButton=function(){return r.a.createElement("button",{className:"game_next_btn",type:"button","data-testid":"btn-next",onClick:e.onClickNext},r.a.createElement(I.b,null),r.a.createElement("span",{className:"game_next_btn_text"},"Next"))},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.answer,n=t.disableQuestButton,c=t.timer,s=t.questionsRandom,o=this.props.questions[a],i=o.category,l=o.question,u=s[a];return r.a.createElement("div",{className:"game_wrapper"},r.a.createElement("div",{className:"game_timer"},r.a.createElement(I.c,{className:"timer_icon"}),r.a.createElement("span",null,"".concat(c," seconds"))),r.a.createElement("div",{className:"game_box"},r.a.createElement("h1",{className:"game_category","data-testid":"question-category"},i),r.a.createElement("h2",{"data-testid":"question-text"},G()(l)),r.a.createElement("div",{className:"game_answer_btn","data-testid":"answer-options"},0!==s.length&&u.map((function(t){var a=Object(F.a)(t,2),c=a[0],s=a[1];return r.a.createElement("button",{className:s.split("-")[0],key:c,type:"button",onClick:function(){return e.onClickAnswer(s)},"data-testid":s,disabled:n},G()(c))}))),r.a.createElement("div",{className:"next_btn"},n&&this.nextButton())))}}]),a}(n.Component)),P=Object(o.b)((function(e){var t=e.player;return{name:t.name,score:t.score,gravatarEmail:t.gravatarEmail}}))(M),Q=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={questions:[]},e.componentDidMount=Object(d.a)(m.a.mark((function t(){var a,n,r,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.token,t.next=3,fetch("https://opentdb.com/api.php?amount=5&token=".concat(a));case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,(c=r.results).length?e.setState({questions:c}):e.getNewFetch();case 9:case"end":return t.stop()}}),t)}))),e.getNewFetch=Object(d.a)(m.a.mark((function t(){var a,n,r,c,s,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://opentdb.com/api_token.php?command=request");case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,r=n.token,t.next=9,fetch("https://opentdb.com/api.php?amount=5&token=".concat(r));case 9:return c=t.sent,t.next=12,c.json();case 12:s=t.sent,o=s.results,e.setState({questions:o});case 15:case"end":return t.stop()}}),t)}))),e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state.questions.length;return r.a.createElement("div",null,r.a.createElement(D,null),0!==e&&r.a.createElement(P,Object.assign({},this.state,this.props)))}}]),a}(n.Component),U=Object(o.b)((function(e){return{token:e.token}}))(Q);function K(){return r.a.createElement("div",null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:j}),r.a.createElement(l.a,{path:"/settings",component:x}),r.a.createElement(l.a,{path:"/ranking",component:T}),r.a.createElement(l.a,{path:"/feedback",component:A}),r.a.createElement(l.a,{path:"/game",component:U})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=a(24),Y=a(94),$=a(95),H={name:"Player",assertions:0,score:0,gravatarEmail:"https://www.gravatar.com/avatar/5fe9e51e59db5ce1541c1902a9ee0ec3"};var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_USER_INFO":return Object(p.a)(Object(p.a)(Object(p.a)({},e),n),{},{score:0,assertions:0});case"CORRECT_ANSWER":return Object(p.a)(Object(p.a)({},e),{},{assertions:e.assertions+1,score:e.score+n});default:return e}};var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"teste",t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_TOKEN":return n;default:return e}},X=Object(L.combineReducers)({player:z,token:V}),Z=Object(L.createStore)(X,Object(Y.composeWithDevTools)(Object(L.applyMiddleware)($.a)));window.Cypress&&(window.store=Z);var ee=Z;s.a.render(r.a.createElement(o.a,{store:ee},r.a.createElement(i.a,{basename:"/trivia-react-redux"},r.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},40:function(e,t,a){e.exports=a.p+"static/media/trivia.466d153e.png"},52:function(e,t){},53:function(e,t){},79:function(e,t){},85:function(e,t){},97:function(e,t,a){e.exports=a(161)}},[[97,1,2]]]);
//# sourceMappingURL=main.69f49a8f.chunk.js.map